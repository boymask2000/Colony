package com.colony.buildings;

import com.colony.commons.Materiale;
import com.colony.commons.Mercato;
import com.colony.commons.Ordine;

public class QuartierGenerale extends Edificio {

	public QuartierGenerale(float x, float y) {
		super(x, y);

		materiPrimeInGiacenza.addMateriale(Materiale.TRONCO, 50);
		materiPrimeInGiacenza.addMateriale(Materiale.ASSSE_LEGNO, 50);
		materiPrimeInGiacenza.addMateriale(Materiale.ACQUA, 50);

	}

	@Override
	public void work() {
		processOrders();
	}

	@Override
	protected void processOrders() {

		process(Materiale.TRONCO) ;
		process(Materiale.ASSSE_LEGNO) ;
		process(Materiale.ACQUA) ;
			
	}
	private void process(Materiale m) {
		if (materiPrimeInGiacenza.getGiacenzaMateriale(m) > 0) {
			Ordine o = Mercato.getOrdine(prodotto);
			if (o != null) {
				inviaProdotto(o);
				materiPrimeInGiacenza.removeMateriale(m);
			}
		}
	}

}
